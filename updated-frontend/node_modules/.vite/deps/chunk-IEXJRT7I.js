import {
  constants_exports
} from "./chunk-VGTBFQ5D.js";

// node_modules/starknetkit/dist/connector-ca2f4153.js
var C = Object.defineProperty;
var O = (s, u, o) => u in s ? C(s, u, { enumerable: true, configurable: true, writable: true, value: o }) : s[u] = o;
var d = (s, u, o) => (O(s, typeof u != "symbol" ? u + "" : u, o), o);
var U = class extends Error {
  constructor() {
    super(...arguments);
    d(this, "name", "ConnectorNotConnectedError");
    d(this, "message", "Connector not connected");
  }
};
var A = class extends Error {
  constructor() {
    super(...arguments);
    d(this, "name", "ConnectorNotFoundError");
    d(this, "message", "Connector not found");
  }
};
var F = class extends Error {
  constructor() {
    super(...arguments);
    d(this, "name", "UserRejectedRequestError");
    d(this, "message", "User rejected request");
  }
};
var R = class extends Error {
  constructor() {
    super(...arguments);
    d(this, "name", "UserNotConnectedError");
    d(this, "message", "User not connected");
  }
};
var T = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function j(s) {
  return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
}
function k(s) {
  if (s.__esModule)
    return s;
  var u = s.default;
  if (typeof u == "function") {
    var o = function v() {
      if (this instanceof v) {
        var y2 = [null];
        y2.push.apply(y2, arguments);
        var E = Function.bind.apply(u, y2);
        return new E();
      }
      return u.apply(this, arguments);
    };
    o.prototype = u.prototype;
  } else
    o = {};
  return Object.defineProperty(o, "__esModule", { value: true }), Object.keys(s).forEach(function(v) {
    var y2 = Object.getOwnPropertyDescriptor(s, v);
    Object.defineProperty(o, v, y2.get ? y2 : {
      enumerable: true,
      get: function() {
        return s[v];
      }
    });
  }), o;
}
var w = { exports: {} };
(function(s) {
  var u = Object.prototype.hasOwnProperty, o = "~";
  function v() {
  }
  Object.create && (v.prototype = /* @__PURE__ */ Object.create(null), new v().__proto__ || (o = false));
  function y2(i, t, n) {
    this.fn = i, this.context = t, this.once = n || false;
  }
  function E(i, t, n, r2, p2) {
    if (typeof n != "function")
      throw new TypeError("The listener must be a function");
    var a = new y2(n, r2 || i, p2), c = o ? o + t : t;
    return i._events[c] ? i._events[c].fn ? i._events[c] = [i._events[c], a] : i._events[c].push(a) : (i._events[c] = a, i._eventsCount++), i;
  }
  function b2(i, t) {
    --i._eventsCount === 0 ? i._events = new v() : delete i._events[t];
  }
  function l2() {
    this._events = new v(), this._eventsCount = 0;
  }
  l2.prototype.eventNames = function() {
    var t = [], n, r2;
    if (this._eventsCount === 0)
      return t;
    for (r2 in n = this._events)
      u.call(n, r2) && t.push(o ? r2.slice(1) : r2);
    return Object.getOwnPropertySymbols ? t.concat(Object.getOwnPropertySymbols(n)) : t;
  }, l2.prototype.listeners = function(t) {
    var n = o ? o + t : t, r2 = this._events[n];
    if (!r2)
      return [];
    if (r2.fn)
      return [r2.fn];
    for (var p2 = 0, a = r2.length, c = new Array(a); p2 < a; p2++)
      c[p2] = r2[p2].fn;
    return c;
  }, l2.prototype.listenerCount = function(t) {
    var n = o ? o + t : t, r2 = this._events[n];
    return r2 ? r2.fn ? 1 : r2.length : 0;
  }, l2.prototype.emit = function(t, n, r2, p2, a, c) {
    var h2 = o ? o + t : t;
    if (!this._events[h2])
      return false;
    var e = this._events[h2], _ = arguments.length, m, f2;
    if (e.fn) {
      switch (e.once && this.removeListener(t, e.fn, void 0, true), _) {
        case 1:
          return e.fn.call(e.context), true;
        case 2:
          return e.fn.call(e.context, n), true;
        case 3:
          return e.fn.call(e.context, n, r2), true;
        case 4:
          return e.fn.call(e.context, n, r2, p2), true;
        case 5:
          return e.fn.call(e.context, n, r2, p2, a), true;
        case 6:
          return e.fn.call(e.context, n, r2, p2, a, c), true;
      }
      for (f2 = 1, m = new Array(_ - 1); f2 < _; f2++)
        m[f2 - 1] = arguments[f2];
      e.fn.apply(e.context, m);
    } else {
      var x = e.length, g;
      for (f2 = 0; f2 < x; f2++)
        switch (e[f2].once && this.removeListener(t, e[f2].fn, void 0, true), _) {
          case 1:
            e[f2].fn.call(e[f2].context);
            break;
          case 2:
            e[f2].fn.call(e[f2].context, n);
            break;
          case 3:
            e[f2].fn.call(e[f2].context, n, r2);
            break;
          case 4:
            e[f2].fn.call(e[f2].context, n, r2, p2);
            break;
          default:
            if (!m)
              for (g = 1, m = new Array(_ - 1); g < _; g++)
                m[g - 1] = arguments[g];
            e[f2].fn.apply(e[f2].context, m);
        }
    }
    return true;
  }, l2.prototype.on = function(t, n, r2) {
    return E(this, t, n, r2, false);
  }, l2.prototype.once = function(t, n, r2) {
    return E(this, t, n, r2, true);
  }, l2.prototype.removeListener = function(t, n, r2, p2) {
    var a = o ? o + t : t;
    if (!this._events[a])
      return this;
    if (!n)
      return b2(this, a), this;
    var c = this._events[a];
    if (c.fn)
      c.fn === n && (!p2 || c.once) && (!r2 || c.context === r2) && b2(this, a);
    else {
      for (var h2 = 0, e = [], _ = c.length; h2 < _; h2++)
        (c[h2].fn !== n || p2 && !c[h2].once || r2 && c[h2].context !== r2) && e.push(c[h2]);
      e.length ? this._events[a] = e.length === 1 ? e[0] : e : b2(this, a);
    }
    return this;
  }, l2.prototype.removeAllListeners = function(t) {
    var n;
    return t ? (n = o ? o + t : t, this._events[n] && b2(this, n)) : (this._events = new v(), this._eventsCount = 0), this;
  }, l2.prototype.off = l2.prototype.removeListener, l2.prototype.addListener = l2.prototype.on, l2.prefixed = o, l2.EventEmitter = l2, s.exports = l2;
})(w);
var L = w.exports;
var N = j(L);
var q = class extends N {
};

// node_modules/starknetkit/dist/index-68877418.js
var p = Object.defineProperty;
var f = (e, n, t) => n in e ? p(e, n, { enumerable: true, configurable: true, writable: true, value: t }) : e[n] = t;
var l = (e, n, t) => (f(e, typeof n != "symbol" ? n + "" : n, t), t);
var r = "f2e613881f7a0e811295cdd57999e31b";
var w2 = `<svg
    width="32"
    height="32"
    viewBox="0 0 32 32"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="32" height="32" rx="8" fill="#FF875B" />
    <path
      d="M18.316 8H13.684C13.5292 8 13.4052 8.1272 13.4018 8.28531C13.3082 12.7296 11.0323 16.9477 7.11513 19.9355C6.99077 20.0303 6.96243 20.2085 7.05335 20.3369L9.76349 24.1654C9.85569 24.2957 10.0353 24.3251 10.1618 24.2294C12.6111 22.3734 14.5812 20.1345 16 17.6529C17.4187 20.1345 19.389 22.3734 21.8383 24.2294C21.9646 24.3251 22.1443 24.2957 22.2366 24.1654L24.9467 20.3369C25.0375 20.2085 25.0092 20.0303 24.885 19.9355C20.9676 16.9477 18.6918 12.7296 18.5983 8.28531C18.5949 8.1272 18.4708 8 18.316 8Z"
      fill="white"
    />
  </svg>`;
var y = () => Object.keys(localStorage).some(
  (e) => e === "walletconnect" || e.startsWith("wc@2:")
);
var h = () => {
  if (y()) {
    delete localStorage.walletconnect;
    for (const e in localStorage)
      e.startsWith("wc@2:") && delete localStorage[e];
  }
};
var A2 = (e) => {
  localStorage.setItem("starknetLastConnectedWallet", e);
};
var b = () => {
  localStorage.removeItem("starknetLastConnectedWallet");
};
var N2 = class extends q {
  constructor(t = {}) {
    super();
    l(this, "_wallet", null);
    l(this, "_options");
    this._options = t;
  }
  available() {
    return true;
  }
  async ready() {
    return this._wallet ? this._wallet.isPreauthorized() : false;
  }
  get id() {
    return "argentMobile";
  }
  get name() {
    return "Argent (mobile)";
  }
  get icon() {
    return {
      dark: w2,
      light: w2
    };
  }
  get wallet() {
    if (!this._wallet)
      throw new U();
    return this._wallet;
  }
  async connect() {
    if (await this.ensureWallet(), !this._wallet)
      throw new A();
    const t = this._wallet.account, a = await this.chainId();
    return {
      account: t.address,
      chainId: a
    };
  }
  async disconnect() {
    var _a;
    if (await this._wallet.disable(), h(), !this.available() && !this._wallet)
      throw new A();
    if (!((_a = this._wallet) == null ? void 0 : _a.isConnected))
      throw new R();
    this._wallet = null;
  }
  async account() {
    if (!this._wallet || !this._wallet.account)
      throw new U();
    return this._wallet.account;
  }
  async chainId() {
    if (!this._wallet || !this.wallet.account || !this._wallet.provider)
      throw new U();
    const t = await this._wallet.provider.getChainId();
    return BigInt(t);
  }
  // needed, methods required by starknet-react. Otherwise an exception is throwd
  async initEventListener(t) {
    if (!this._wallet)
      throw new U();
    this._wallet.on("accountsChanged", t);
  }
  // needed, methods required by starknet-react. Otherwise an exception is throwd
  async removeEventListener(t) {
    if (!this._wallet)
      throw new U();
    this._wallet.off("accountsChanged", t), this._wallet = null;
  }
  async ensureWallet() {
    const { getStarknetWindowObject: t } = await import("./index-c78ebd52-UBLHBIC7.js"), { chainId: a, projectId: s, dappName: d2, description: u, url: _ } = this._options, g = {
      chainId: a ?? constants_exports.NetworkName.SN_MAIN,
      name: d2,
      projectId: s ?? r,
      description: u,
      url: _
    };
    s === r && (console.log("========= NOTICE ========="), console.log(
      "While your application will continue to function, we highly recommended"
    ), console.log("signing up for your own API keys."), console.log(
      "Go to WalletConnect Cloud (https://cloud.walletconnect.com) and create a new account."
    ), console.log(
      "Once your account is created, create a new project and collect the Project ID"
    ), console.log("=========================="));
    const C2 = await t(g);
    this._wallet = C2;
    const c = this._wallet;
    await c.enable(), c.client.on("session_delete", () => {
      h(), this._wallet = null, b(), document.dispatchEvent(new Event("wallet_disconnected"));
    });
  }
};

export {
  U,
  A,
  F,
  R,
  T,
  j,
  k,
  q,
  h,
  A2,
  b,
  N2 as N
};
//# sourceMappingURL=chunk-IEXJRT7I.js.map
